"use strict";

var EditableFieldController = function EditableFieldController($scope, $element, $attrs) {

	var ctrl = this;

	ctrl.editMode = false;

	ctrl.handleModeChange = function () {

		console.log("EditableFieldController.handleModeChange.\n\t\t\teditMode(" + ctrl.editMode + ")");

		if (ctrl.editMode) {

			ctrl.onUpdate({ value: ctrl.fieldValue });
			ctrl.fieldValueCopy = ctrl.fieldValue;
		}

		ctrl.editMode = !ctrl.editMode;
	};

	ctrl.reset = function () {

		ctrl.fieldValue = ctrl.fieldValueCopy;
	};

	ctrl.$onInit = function () {

		// Make a copy of the initial value to be able to reset it later
		ctrl.fieldValueCopy = ctrl.fieldValue;

		// Set a default fieldType
		if (!ctrl.fieldType) {

			/**
    * For any changes to this variable to be shown,
    * the browser must be refreshed.
    */

			ctrl.fieldType = "text";
		}
	};
};

angular.module("main").component("editableField", {
	templateUrl: "components/hero_tree/editableField.html",
	controller: EditableFieldController,
	bindings: {
		fieldLabel: "@?",
		fieldValue: "<",
		// ? assigns the property as optional.
		fieldType: "@?",
		onUpdate: "&"
	}
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvaGVyb190cmVlL2VkaXRhYmxlRmllbGQuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbIkVkaXRhYmxlRmllbGRDb250cm9sbGVyIiwiJHNjb3BlIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJjdHJsIiwiZWRpdE1vZGUiLCJoYW5kbGVNb2RlQ2hhbmdlIiwiY29uc29sZSIsImxvZyIsIm9uVXBkYXRlIiwidmFsdWUiLCJmaWVsZFZhbHVlIiwiZmllbGRWYWx1ZUNvcHkiLCJyZXNldCIsIiRvbkluaXQiLCJmaWVsZFR5cGUiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29tcG9uZW50IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiYmluZGluZ3MiLCJmaWVsZExhYmVsIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSwwQkFBMEIsU0FBMUJBLHVCQUEwQixDQUFVQyxNQUFWLEVBQWtCQyxRQUFsQixFQUE0QkMsTUFBNUIsRUFBb0M7O0FBRW5FLEtBQU1DLE9BQU8sSUFBYjs7QUFFQUEsTUFBS0MsUUFBTCxHQUFnQixLQUFoQjs7QUFFQUQsTUFBS0UsZ0JBQUwsR0FBd0IsWUFBWTs7QUFFbkNDLFVBQVFDLEdBQVIsZ0VBRVlKLEtBQUtDLFFBRmpCOztBQUtBLE1BQUlELEtBQUtDLFFBQVQsRUFBbUI7O0FBRWxCRCxRQUFLSyxRQUFMLENBQWMsRUFBQ0MsT0FBT04sS0FBS08sVUFBYixFQUFkO0FBQ0FQLFFBQUtRLGNBQUwsR0FBc0JSLEtBQUtPLFVBQTNCO0FBRUE7O0FBRURQLE9BQUtDLFFBQUwsR0FBZ0IsQ0FBQ0QsS0FBS0MsUUFBdEI7QUFFQSxFQWhCRDs7QUFrQkFELE1BQUtTLEtBQUwsR0FBYSxZQUFZOztBQUV4QlQsT0FBS08sVUFBTCxHQUFrQlAsS0FBS1EsY0FBdkI7QUFFQSxFQUpEOztBQU1BUixNQUFLVSxPQUFMLEdBQWUsWUFBWTs7QUFFMUI7QUFDQVYsT0FBS1EsY0FBTCxHQUFzQlIsS0FBS08sVUFBM0I7O0FBRUE7QUFDQSxNQUFJLENBQUNQLEtBQUtXLFNBQVYsRUFBcUI7O0FBRXBCOzs7OztBQUtBWCxRQUFLVyxTQUFMLEdBQWlCLE1BQWpCO0FBRUE7QUFFRCxFQWpCRDtBQW1CQSxDQWpERDs7QUFtREFDLFFBQVFDLE1BQVIsQ0FBZSxNQUFmLEVBQ0VDLFNBREYsQ0FDWSxlQURaLEVBQzZCO0FBQzNCQyxjQUFhLHlDQURjO0FBRTNCQyxhQUFZcEIsdUJBRmU7QUFHM0JxQixXQUFVO0FBQ1RDLGNBQVksSUFESDtBQUVUWCxjQUFZLEdBRkg7QUFHVDtBQUNBSSxhQUFXLElBSkY7QUFLVE4sWUFBVTtBQUxEO0FBSGlCLENBRDdCIiwiZmlsZSI6ImNvbXBvbmVudHMvaGVyb190cmVlL2VkaXRhYmxlRmllbGQuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IEVkaXRhYmxlRmllbGRDb250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuXHRcblx0Y29uc3QgY3RybCA9IHRoaXM7XG5cdFxuXHRjdHJsLmVkaXRNb2RlID0gZmFsc2U7XG5cdFxuXHRjdHJsLmhhbmRsZU1vZGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coXG5cdFx0XHRgRWRpdGFibGVGaWVsZENvbnRyb2xsZXIuaGFuZGxlTW9kZUNoYW5nZS5cblx0XHRcdGVkaXRNb2RlKCR7Y3RybC5lZGl0TW9kZX0pYFxuXHRcdCk7XG5cdFx0XG5cdFx0aWYgKGN0cmwuZWRpdE1vZGUpIHtcblx0XHRcdFxuXHRcdFx0Y3RybC5vblVwZGF0ZSh7dmFsdWU6IGN0cmwuZmllbGRWYWx1ZX0pO1xuXHRcdFx0Y3RybC5maWVsZFZhbHVlQ29weSA9IGN0cmwuZmllbGRWYWx1ZTtcblx0XHRcdFxuXHRcdH1cblx0XHRcblx0XHRjdHJsLmVkaXRNb2RlID0gIWN0cmwuZWRpdE1vZGU7XG5cdFx0XG5cdH07XG5cdFxuXHRjdHJsLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFxuXHRcdGN0cmwuZmllbGRWYWx1ZSA9IGN0cmwuZmllbGRWYWx1ZUNvcHk7XG5cdFx0XG5cdH07XG5cdFxuXHRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XG5cdFx0Ly8gTWFrZSBhIGNvcHkgb2YgdGhlIGluaXRpYWwgdmFsdWUgdG8gYmUgYWJsZSB0byByZXNldCBpdCBsYXRlclxuXHRcdGN0cmwuZmllbGRWYWx1ZUNvcHkgPSBjdHJsLmZpZWxkVmFsdWU7XG5cdFx0XG5cdFx0Ly8gU2V0IGEgZGVmYXVsdCBmaWVsZFR5cGVcblx0XHRpZiAoIWN0cmwuZmllbGRUeXBlKSB7XG5cdFx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogRm9yIGFueSBjaGFuZ2VzIHRvIHRoaXMgdmFyaWFibGUgdG8gYmUgc2hvd24sXG5cdFx0XHQgKiB0aGUgYnJvd3NlciBtdXN0IGJlIHJlZnJlc2hlZC5cblx0XHRcdCAqL1xuXHRcdFx0XG5cdFx0XHRjdHJsLmZpZWxkVHlwZSA9IFwidGV4dFwiO1xuXHRcdFx0XG5cdFx0fVxuXHRcdFxuXHR9O1xuXHRcbn07XG5cbmFuZ3VsYXIubW9kdWxlKFwibWFpblwiKVxuXHQuY29tcG9uZW50KFwiZWRpdGFibGVGaWVsZFwiLCB7XG5cdFx0dGVtcGxhdGVVcmw6IFwiY29tcG9uZW50cy9oZXJvX3RyZWUvZWRpdGFibGVGaWVsZC5odG1sXCIsXG5cdFx0Y29udHJvbGxlcjogRWRpdGFibGVGaWVsZENvbnRyb2xsZXIsXG5cdFx0YmluZGluZ3M6IHtcblx0XHRcdGZpZWxkTGFiZWw6IFwiQD9cIixcblx0XHRcdGZpZWxkVmFsdWU6IFwiPFwiLFxuXHRcdFx0Ly8gPyBhc3NpZ25zIHRoZSBwcm9wZXJ0eSBhcyBvcHRpb25hbC5cblx0XHRcdGZpZWxkVHlwZTogXCJAP1wiLFxuXHRcdFx0b25VcGRhdGU6IFwiJlwiXG5cdFx0fVxuXHR9KTtcbiJdfQ==
