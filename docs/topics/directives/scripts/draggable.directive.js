"use strict";

angular.module("directives").directive("dhDraggable", ["$document", function ($document) {

	return {
		link: function link(scope, element, attr) {

			var startX = 0;
			var startY = 0;
			var posX = 0;
			var posY = 0;

			element.css({

				position: "relative",
				cursor: "pointer"

			});

			var mousemove = function mousemove(event) {

				posY = event.pageY - startY;
				posX = event.pageX - startX;

				element.css({

					top: posY + "px",
					left: posX + "px"
				});
			};

			var mouseup = function mouseup() {

				$document.off("mousemove", mousemove);
				$document.off("mouseup", mouseup);
			};

			element.on("mousedown", function (event) {

				event.preventDefault();

				startX = event.pageX - posX;
				startY = event.pageY - posY;

				$document.on("mousemove", mousemove);
				$document.on("mouseup", mouseup);
			});
		}
	};
}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcGljcy9kaXJlY3RpdmVzL3NjcmlwdHMvZHJhZ2dhYmxlLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwiJGRvY3VtZW50IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHIiLCJzdGFydFgiLCJzdGFydFkiLCJwb3NYIiwicG9zWSIsImNzcyIsInBvc2l0aW9uIiwiY3Vyc29yIiwibW91c2Vtb3ZlIiwiZXZlbnQiLCJwYWdlWSIsInBhZ2VYIiwidG9wIiwibGVmdCIsIm1vdXNldXAiLCJvZmYiLCJvbiIsInByZXZlbnREZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsUUFBUUMsTUFBUixDQUFlLFlBQWYsRUFDRUMsU0FERixDQUNZLGFBRFosRUFDMkIsQ0FBQyxXQUFELEVBQWMsVUFBVUMsU0FBVixFQUFxQjs7QUFFNUQsUUFBTztBQUVOQyxNQUZNLGdCQUVBQyxLQUZBLEVBRU9DLE9BRlAsRUFFZ0JDLElBRmhCLEVBRXNCOztBQUUzQixPQUFJQyxTQUFTLENBQWI7QUFDQSxPQUFJQyxTQUFTLENBQWI7QUFDQSxPQUFJQyxPQUFPLENBQVg7QUFDQSxPQUFJQyxPQUFPLENBQVg7O0FBRUFMLFdBQVFNLEdBQVIsQ0FBWTs7QUFFWEMsY0FBVSxVQUZDO0FBR1hDLFlBQVE7O0FBSEcsSUFBWjs7QUFPQSxPQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBVUMsS0FBVixFQUFpQjs7QUFFbENMLFdBQU9LLE1BQU1DLEtBQU4sR0FBY1IsTUFBckI7QUFDQUMsV0FBT00sTUFBTUUsS0FBTixHQUFjVixNQUFyQjs7QUFFQUYsWUFBUU0sR0FBUixDQUFZOztBQUVYTyxVQUFRUixJQUFSLE9BRlc7QUFHWFMsV0FBU1YsSUFBVDtBQUhXLEtBQVo7QUFNQSxJQVhEOztBQWFBLE9BQU1XLFVBQVUsU0FBVkEsT0FBVSxHQUFZOztBQUUzQmxCLGNBQVVtQixHQUFWLENBQWMsV0FBZCxFQUEyQlAsU0FBM0I7QUFDQVosY0FBVW1CLEdBQVYsQ0FBYyxTQUFkLEVBQXlCRCxPQUF6QjtBQUVBLElBTEQ7O0FBT0FmLFdBQVFpQixFQUFSLENBQVcsV0FBWCxFQUF3QixVQUFVUCxLQUFWLEVBQWlCOztBQUV4Q0EsVUFBTVEsY0FBTjs7QUFFQWhCLGFBQVNRLE1BQU1FLEtBQU4sR0FBY1IsSUFBdkI7QUFDQUQsYUFBU08sTUFBTUMsS0FBTixHQUFjTixJQUF2Qjs7QUFFQVIsY0FBVW9CLEVBQVYsQ0FBYSxXQUFiLEVBQTBCUixTQUExQjtBQUNBWixjQUFVb0IsRUFBVixDQUFhLFNBQWIsRUFBd0JGLE9BQXhCO0FBRUEsSUFWRDtBQVlBO0FBaERLLEVBQVA7QUFvREEsQ0F0RHlCLENBRDNCIiwiZmlsZSI6InRvcGljcy9kaXJlY3RpdmVzL3NjcmlwdHMvZHJhZ2dhYmxlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyLm1vZHVsZShcImRpcmVjdGl2ZXNcIilcblx0LmRpcmVjdGl2ZShcImRoRHJhZ2dhYmxlXCIsIFtcIiRkb2N1bWVudFwiLCBmdW5jdGlvbiAoJGRvY3VtZW50KSB7XG5cdFx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdFxuXHRcdFx0bGluayAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcblx0XHRcdFx0XG5cdFx0XHRcdGxldCBzdGFydFggPSAwO1xuXHRcdFx0XHRsZXQgc3RhcnRZID0gMDtcblx0XHRcdFx0bGV0IHBvc1ggPSAwO1xuXHRcdFx0XHRsZXQgcG9zWSA9IDA7XG5cdFx0XHRcdFxuXHRcdFx0XHRlbGVtZW50LmNzcyh7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRcdFx0XHRjdXJzb3I6IFwicG9pbnRlclwiXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgbW91c2Vtb3ZlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cG9zWSA9IGV2ZW50LnBhZ2VZIC0gc3RhcnRZO1xuXHRcdFx0XHRcdHBvc1ggPSBldmVudC5wYWdlWCAtIHN0YXJ0WDtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRlbGVtZW50LmNzcyh7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHRvcDogYCR7cG9zWX1weGAsXG5cdFx0XHRcdFx0XHRsZWZ0OiBgJHtwb3NYfXB4YFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgbW91c2V1cCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKFwibW91c2Vtb3ZlXCIsIG1vdXNlbW92ZSk7XG5cdFx0XHRcdFx0JGRvY3VtZW50Lm9mZihcIm1vdXNldXBcIiwgbW91c2V1cCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHRlbGVtZW50Lm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0c3RhcnRYID0gZXZlbnQucGFnZVggLSBwb3NYO1xuXHRcdFx0XHRcdHN0YXJ0WSA9IGV2ZW50LnBhZ2VZIC0gcG9zWTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQkZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIiwgbW91c2Vtb3ZlKTtcblx0XHRcdFx0XHQkZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsIG1vdXNldXApO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9O1xuXHRcdFxuXHR9XSk7XG4iXX0=
